<Window x:Class="LineageLauncher.App.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="L1R Launcher - Login"
        Height="660"
        Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{DynamicResource SystemControlBackgroundAltHighBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0"
                Padding="24,32">
            <StackPanel VerticalAlignment="Center"
                       HorizontalAlignment="Center">
                <!-- Logo Icon -->
                <Image Source="/Assets/logo.png"
                       Width="80"
                       Height="80"
                       Margin="0,0,0,16"
                       HorizontalAlignment="Center" />

                <TextBlock Text="Lineage Remastered"
                          FontSize="28"
                          FontWeight="Bold"
                          Foreground="{DynamicResource SystemControlForegroundAccentBrush}"
                          HorizontalAlignment="Center" />
                <TextBlock Text="wantedgaming.net"
                          FontSize="14"
                          Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                          Opacity="0.9"
                          HorizontalAlignment="Center"
                          Margin="0,4,0,0" />
            </StackPanel>
        </Border>

        <!-- Login Form -->
        <Border Grid.Row="1"
                Margin="32,32,32,32">
            <StackPanel VerticalAlignment="Center"
                       MaxWidth="320">

                <!-- Username -->
                <TextBox x:Name="UsernameTextBox"
                        Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                        FontSize="14"
                        Height="48"
                        Padding="12,14"
                        VerticalContentAlignment="Center"
                        Margin="0,40,0,16"
                        ui:ControlHelper.PlaceholderText="Username" />

                <!-- Password -->
                <PasswordBox x:Name="PasswordBox"
                            FontSize="14"
                            Height="48"
                            Padding="12,14"
                            VerticalContentAlignment="Center"
                            Margin="0,0,0,16"
                            ui:ControlHelper.PlaceholderText="Password" />

                <!-- Remember Me -->
                <CheckBox Content="Remember me"
                         IsChecked="{Binding RememberMe}"
                         FontSize="13"
                         Margin="0,0,0,24" />

                <!-- Status Message -->
                <TextBlock Text="{Binding StatusMessage}"
                          FontSize="13"
                          Foreground="{DynamicResource SystemControlErrorTextForegroundBrush}"
                          TextWrapping="Wrap"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,16"
                          Visibility="{Binding StatusMessage, Converter={StaticResource StringToVisibilityConverter}}" />

                <!-- Login Button -->
                <Button Content="Login"
                       Command="{Binding LoginCommand}"
                       IsEnabled="{Binding IsLoggingIn, Converter={StaticResource InverseBoolConverter}}"
                       Style="{StaticResource AccentButtonStyle}"
                       Height="44"
                       FontSize="15"
                       FontWeight="SemiBold"
                       HorizontalAlignment="Stretch"
                       Margin="0,0,0,12">
                    <Button.ContentTemplate>
                        <DataTemplate>
                            <Grid>
                                <TextBlock Text="Login"
                                          Visibility="{Binding DataContext.IsLoggingIn,
                                                      RelativeSource={RelativeSource AncestorType=Button},
                                                      Converter={StaticResource InverseBoolToVisibilityConverter}}" />
                                <StackPanel Orientation="Horizontal"
                                           HorizontalAlignment="Center"
                                           Visibility="{Binding DataContext.IsLoggingIn,
                                                       RelativeSource={RelativeSource AncestorType=Button},
                                                       Converter={StaticResource BoolToVisibilityConverter}}">
                                    <ui:ProgressRing Width="16"
                                                    Height="16"
                                                    IsActive="True"
                                                    Margin="0,0,8,0" />
                                    <TextBlock Text="Logging in..." />
                                </StackPanel>
                            </Grid>
                        </DataTemplate>
                    </Button.ContentTemplate>
                </Button>

                <!-- Additional Options -->
                <StackPanel Orientation="Vertical"
                           HorizontalAlignment="Center"
                           Margin="0,8,0,0">
                    <!-- Create Account Link -->
                    <TextBlock TextAlignment="Center" Margin="0,0,0,8">
                        <Hyperlink Command="{Binding CreateAccountCommand}"
                                  FontSize="13"
                                  Foreground="{DynamicResource SystemControlForegroundAccentBrush}">
                            <Run Text="Don't have an account? Create one!" />
                        </Hyperlink>
                    </TextBlock>

                    <!-- Support Link -->
                    <TextBlock Text="Need help? Contact support"
                              FontSize="12"
                              TextAlignment="Center"
                              Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" />
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
